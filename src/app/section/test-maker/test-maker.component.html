<div class="card flex justify-content-center">
    <form [formGroup]="formGroup!">
        <p-dropdown
            formControlName="selectedSubject"
            [options]="subjects"
            optionLabel="name"
            placeholder="Seleciona una Asignatura"
        />
        <p-dropdown
            formControlName="selectedEvaluation"
            [options]="evaluations"
            optionLabel="name"
            placeholder="Seleciona una Evaluación"
        />
        <p-dropdown
            formControlName="selectedPercentageOfQuestions"
            [options]="percentagesOfQuestions"
            optionLabel="label"
            placeholder="Seleciona un Porcentaje"
        />
    </form>
</div>

<div class="card flex justify-content-center">
    <p-card header="Test" subheader="El test se creará con las siguientes características:" [style]="{ width: '360px', margin: '250px' }">
        <ng-template pTemplate="header">
            <img alt="Card" src="https://primefaces.org/cdn/primeng/images/card-ng.jpg"/>
        </ng-template>

        @if (formGroup?.valid){
            <ul>
                <li>Asignatura: {{formGroup?.get('selectedSubject')?.value?.name}}</li>
                <li>Evaluación: {{formGroup?.get('selectedEvaluation')?.value?.name}}</li>
                <li>Porcentaje de preguntas: {{formGroup?.get('selectedPercentageOfQuestions')?.value?.label}}</li>
            </ul>
        }
        <ng-template pTemplate="footer">
            <div class="flex gap-3 mt-1">
                <p-button label="Reset"
                          severity="secondary"
                          class="w-full" styleClass="w-full"
                          (click)="resetForm()"
                />
                <p-button label="Crear el test"
                          class="w-full" styleClass="w-full"
                          [disabled]="formGroup?.invalid"
                          (click)="createTheTest()"
                />
            </div>
        </ng-template>
    </p-card>
</div>
